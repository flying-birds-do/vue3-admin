import{u as f,r as S,G as J,f as M,H as P,k as A,l as R,n as $,o as G,p as H,_ as Q}from"./index-4c4484af.js";import{x as W}from"./index-ddbd93c9.js";import{J as j,a as d,$ as K,r as X,o as Y,q as Z,W as a,t as b,Q as o,U as v,V as ee,u as n}from"./vue-27b7826a.js";const ae=[{type:"selection",width:"50"},{type:"index",width:"60",label:"序号"},{prop:"name",label:"角色名称",sortable:!0},{type:"date",prop:"date",label:"日期"},{prop:"rolesLimit",label:"权限字符"},{prop:"status",label:"状态"},{prop:"adress",label:"备注",slot:"address",showOverflowTooltip:!0},{width:"180",label:"操作",buttons:[{name:"edit",type:"primary",command:"edit"},{name:"delete",type:"danger",command:"delete"}]}],le={class:"role-marge-warp"},te={class:"public-table-warp"},oe={class:"operate-btn-warp"},ne={class:"table-pub-card"},se=j({__name:"index",setup(re){const V=[{label:"角色名称",prop:"rolesName",type:"retrievalSelect",props:{placeholder:"角色名称"},list:[]},{label:"权限字符",prop:"rolesLimit",type:"input",props:{placeholder:"商品编号/商品名称"},list:[]},{label:"状态",prop:"status",type:"select",props:{placeholder:"请选择"},list:[]},{label:"创建时间",prop:"createDate",type:"datePicker",props:{placeholder:"请选择"},list:[]}],i=d([]),p=d(!1),m=d("新建"),h=d({});let t=d({id:1,name:"",phone:"",status:"",ex:"",position:"",partment:"",password:"",roles:""}),c=K({pageNumber:1,totalCount:200,pageSize:5});const w=function(l){console.log(l),c={pageNumber:1,pageSize:5,totalCount:400};let e=JSON.parse(JSON.stringify(r.value));r.value=[],r.value=e.reverse()},x=function(l){l.isFirst?(c.pageNumber=1,c.pageSize=l.current):c.pageNumber=l.current},E=()=>{t.value={},p.value=!0,m.value="新建"},L=()=>{if(i.value.length==1)h.value=i.value[0];else if(i.value.length===0){f.warning("请选择");return}else{f.warning("只支持单个编辑");return}t.value=h,p.value=!0,m.value="编辑"},N=(l,e)=>{l?t.value=e:t.value=h,p.value=!0,m.value="编辑"},k=()=>{p.value=!1,r.value.splice(0,0,t.value)},T=()=>{t.value={},p.value=!1};let r=d([{date:1660737564e3,name:"佘太君",status:"正常",rolesLimit:"admin",address:"上海市普陀区金沙江路 1516 弄"},{date:14622912e5,name:"王小虎",status:"正常",rolesLimit:"admin",address:"上海市普陀区金沙江路 1517 弄"},{date:1462032e6,name:"王小帅",status:"禁用",rolesLimit:"admin",address:"上海市普陀区金沙江路 1519 弄"},{date:14622048e5,name:"王小呆",rolesLimit:"general",status:"正常",address:"上海市普陀区金沙江路 1516 弄"}]);const B=({column:l,prop:e,order:u})=>{console.log(l,u),e&&f.success(`按【${e}】排序`)},F=()=>{if(!i.value.length){f.warning("请选择");return}S.confirm("确认删除吗？","提示").then(()=>{for(let l=0;l<i.value.length;l++){let e=r.value.indexOf(i.value[l]);r.value.splice(e,1)}}).catch(()=>null)},O=l=>{i.value=l},z=(l,e,u)=>{switch(l){case"edit":N(u,e);break;case"delete":S.confirm("确认删除吗？","提示").then(()=>{r.value.splice(u,1)}).catch(()=>null);break}};return(l,e)=>{const u=J,_=M,U=X("TableTemplate"),D=P,y=A,g=R,C=$,I=G,q=H;return Y(),Z("section",le,[a(u,{id:"commodityInquiry2",ref:"conditions","search-conditions":V,"is-query":!0,"is-reset":!0,"is-expand":!0,onScreenChange:w},null,512),b("section",te,[b("div",oe,[a(_,{type:"primary",plain:"",onClick:E},{default:o(()=>[v("新增")]),_:1}),a(_,{type:"success",plain:"",onClick:L},{default:o(()=>[v("修改")]),_:1}),a(_,{type:"danger",plain:"",onClick:F},{default:o(()=>[v("删除")]),_:1}),a(_,{type:"warning",plain:""},{default:o(()=>[v("导出")]),_:1})]),b("section",ne,[a(U,{columns:n(ae),"table-data":n(r),options:{defaultSort:{prop:"name",order:"ascending"}},onSelectionChange:O,onCommand:z,onSortChange:B},{address:o(({row:s})=>[b("span",null,"我是内容地址"+ee(s.address),1)]),_:1},8,["columns","table-data"]),a(D,{pagination:n(c),onPaginationSizeChange:x},null,8,["pagination"])])]),a(W,{dialogVisible:p.value,onCancel:T,onSure:k,Tips:m.value},{default:o(()=>[a(q,{ref:"ruleFormRef",model:n(t),"label-width":"80px",class:"demo-ruleForm","status-icon":""},{default:o(()=>[a(g,{label:"角色名称",prop:"name"},{default:o(()=>[a(y,{modelValue:n(t).name,"onUpdate:modelValue":e[0]||(e[0]=s=>n(t).name=s),modelModifiers:{number:!0},placeholder:"请输入角色名称"},null,8,["modelValue"])]),_:1}),a(g,{label:"权限字符",prop:"rolesLimit"},{default:o(()=>[a(y,{modelValue:n(t).rolesLimit,"onUpdate:modelValue":e[1]||(e[1]=s=>n(t).rolesLimit=s),placeholder:"请输入权限字符"},null,8,["modelValue"])]),_:1}),a(g,{label:"状态",prop:"status"},{default:o(()=>[a(I,{modelValue:n(t).status,"onUpdate:modelValue":e[2]||(e[2]=s=>n(t).status=s),placeholder:"请选择状态",class:"set-select"},{default:o(()=>[a(C,{label:"正常",value:"正常"}),a(C,{label:"禁用",value:"禁用"})]),_:1},8,["modelValue"])]),_:1}),a(g,{label:"备注",prop:"adress"},{default:o(()=>[a(y,{modelValue:n(t).adress,"onUpdate:modelValue":e[3]||(e[3]=s=>n(t).adress=s),placeholder:"备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["dialogVisible","Tips"])])}}});const de=Q(se,[["__scopeId","data-v-852af860"]]);export{de as default};
